<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MED fichier: c/2.3.6/test7.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Documentation&nbsp;MED</span></a></li>
      <li><a href="pages.html"><span>Guides&nbsp;d'utilisation</span></a></li>
      <li><a href="modules.html"><span>Guides&nbsp;de&nbsp;référence</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>c/2.3.6/test7.c</h1><div class="fragment"><pre class="fragment"><span class="comment">/*  This file is part of MED.</span>
<span class="comment"> *</span>
<span class="comment"> *  COPYRIGHT (C) 1999 - 2016  EDF R&amp;D, CEA/DEN</span>
<span class="comment"> *  MED is free software: you can redistribute it and/or modify</span>
<span class="comment"> *  it under the terms of the GNU Lesser General Public License as published by</span>
<span class="comment"> *  the Free Software Foundation, either version 3 of the License, or</span>
<span class="comment"> *  (at your option) any later version.</span>
<span class="comment"> *</span>
<span class="comment"> *  MED is distributed in the hope that it will be useful,</span>
<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="comment"> *  GNU Lesser General Public License for more details.</span>
<span class="comment"> *</span>
<span class="comment"> *  You should have received a copy of the GNU Lesser General Public License</span>
<span class="comment"> *  along with MED.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="comment"> */</span>

<span class="comment">/******************************************************************************</span>
<span class="comment"> * - Nom du fichier : test7.c</span>
<span class="comment"> *</span>
<span class="comment"> * - Description : lecture des elements du maillage MED crees par test6</span>
<span class="comment"> *</span>
<span class="comment"> *****************************************************************************/</span>

<span class="preprocessor">#include &lt;med.h&gt;</span>
<span class="preprocessor">#define MESGERR 1</span>
<span class="preprocessor"></span><span class="preprocessor">#include &quot;med_utils.h&quot;</span>
<span class="preprocessor">#include &lt;string.h&gt;</span>

<span class="preprocessor">#ifdef DEF_LECT_ECR</span>
<span class="preprocessor"></span><span class="preprocessor">#define MODE_ACCES MED_LECTURE_ECRITURE</span>
<span class="preprocessor"></span><span class="preprocessor">#elif DEF_LECT_AJOUT</span>
<span class="preprocessor"></span><span class="preprocessor">#define MODE_ACCES MED_LECTURE_AJOUT</span>
<span class="preprocessor"></span><span class="preprocessor">#else</span>
<span class="preprocessor"></span><span class="preprocessor">#define MODE_ACCES MED_CREATION</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="keywordtype">int</span> <a name="a0"></a><a class="code" href="a00780_a3c04138a5bfe5d72780bb7e82a18e627.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)


{
  <a name="a1"></a><a class="code" href="a00331_abd29d7c6abaef5da2a5ed1b73464f0ba.html#abd29d7c6abaef5da2a5ed1b73464f0ba">med_err</a> ret = 0;
  <a name="a2"></a><a class="code" href="a00331_afa4ec8284026c8c5545e5333475fb65a.html#afa4ec8284026c8c5545e5333475fb65a">med_idt</a> fid;
  <a name="a3"></a><a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> nse2;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *se2_1;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *se2_2;
  <span class="keywordtype">char</span> *nomse2;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *numse2;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *nufase2; 
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> ntr3;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *tr3;
  <span class="keywordtype">char</span> *nomtr3;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *numtr3;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> *nufatr3;
  <span class="keywordtype">char</span> maa[<a name="a4"></a><a class="code" href="a00331_a194b9a1675c23f66fc766e206cc9a019.html#a194b9a1675c23f66fc766e206cc9a019">MED_TAILLE_NOM</a>+1] =<span class="stringliteral">&quot;maa1&quot;</span>;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> mdim = 2;
  <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390f">med_booleen</a> inoele,inuele;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> tse2,ttr3;
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> i;
  <span class="keywordtype">char</span> <a name="a5"></a><a class="code" href="a00329_ad8ab729381f270b100f3d05b6c6676fc.html#ad8ab729381f270b100f3d05b6c6676fc">str</a>[<a name="a6"></a><a class="code" href="a00331_aa91a291a9736ce1ad33b5be657106edb.html#aa91a291a9736ce1ad33b5be657106edb">MED_TAILLE_PNOM</a>+1];
  <a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a> profil[2] = { 2, 3 };
  <span class="keywordtype">char</span> desc[<a name="a7"></a><a class="code" href="a00331_aecfdcbb63702f8a9b97643d05cc63888.html#aecfdcbb63702f8a9b97643d05cc63888">MED_TAILLE_DESC</a>+1];
  <a class="code" href="a00331_a921e2f33296e6bef48bbce3be3ae005a.html#a921e2f33296e6bef48bbce3be3ae005a">med_maillage</a> type;
  
  <span class="comment">/* Ouverture du fichier en mode lecture seule */</span>
  <span class="keywordflow">if</span> ((fid = <a name="a8"></a><a class="code" href="a00358_ae0cab324e1ab23d9cf780427f0ad561b.html#ae0cab324e1ab23d9cf780427f0ad561b">MEDouvrir</a>(<span class="stringliteral">&quot;test6.med&quot;</span>,<a name="a9"></a><a class="code" href="a00331_a6412dbfba9619f1b121a97a4ccfaff00.html#a6412dbfba9619f1b121a97a4ccfaff00a1e1c70755b1014521efa67ec9e0eff9b">MED_LECTURE</a>)) &lt; 0) {
    <a name="a10"></a><a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a l&apos;ouverture du fichier test6.med&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Lecture des informations sur le premier maillage */</span>
  <span class="keywordflow">if</span> (<a name="a11"></a><a class="code" href="a00358_ae3f79506613f66c077578ff43d3ea4d5.html#ae3f79506613f66c077578ff43d3ea4d5">MEDmaaInfo</a>(fid,1,maa,&amp;mdim,&amp;type,desc) &lt; 0)  {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture des information sur le 1er maillage&quot;</span>);
    <span class="keywordflow">return</span> -1;
  } <span class="keywordflow">else</span>
    printf(<span class="stringliteral">&quot;Maillage de nom : %s et de dimension %d \n&quot;</span>,maa,mdim);

  <span class="comment">/* Combien de triangles et de segments */</span>
  <span class="keywordflow">if</span> ((nse2 = <a name="a12"></a><a class="code" href="a00358_ab44248903040eef960e014d37a72791b.html#ab44248903040eef960e014d37a72791b">MEDnEntMaa</a>(fid,maa,<a name="a13"></a><a class="code" href="a00331_a646b5c79451d55ea9cda40bd16f090dd.html#a646b5c79451d55ea9cda40bd16f090dda751a7422f01f8e54ff3bf92efa72b41e">MED_CONN</a>,<a name="a14"></a><a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>,<a name="a15"></a><a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>,<a name="a16"></a><a class="code" href="a00331_a00d5b148b07dc761d3c5cbb130ae26a8.html#a00d5b148b07dc761d3c5cbb130ae26a8aee0e5af9374ad7ec7ef8e556242a42cc">MED_DESC</a>)) &lt; 0)  {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture du nombre de faces MED_SEG2&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }
  <span class="keywordflow">if</span> ((ntr3 = <a class="code" href="a00358_ab44248903040eef960e014d37a72791b.html#ab44248903040eef960e014d37a72791b">MEDnEntMaa</a>(fid,maa,<a class="code" href="a00331_a646b5c79451d55ea9cda40bd16f090dd.html#a646b5c79451d55ea9cda40bd16f090dda751a7422f01f8e54ff3bf92efa72b41e">MED_CONN</a>,<a name="a17"></a><a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08aa99fcc0abf1e176a8c7ef5453bd1f446">MED_MAILLE</a>,<a name="a18"></a><a class="code" href="a00332_a4a1eb7ba296742a6f5eb8b5b23b39670.html#a4a1eb7ba296742a6f5eb8b5b23b39670">MED_TRIA3</a>,<a class="code" href="a00331_a00d5b148b07dc761d3c5cbb130ae26a8.html#a00d5b148b07dc761d3c5cbb130ae26a8aee0e5af9374ad7ec7ef8e556242a42cc">MED_DESC</a>))&lt;0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture du nombre de mailles MED_TRIA3&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }
  printf(<span class="stringliteral">&quot;Nombre de MED_SEG2 : &quot;</span><a name="a19"></a><a class="code" href="a00360_ad1c568efb9ee28e7f3b0e20bf7e79ff4.html#ad1c568efb9ee28e7f3b0e20bf7e79ff4">IFORMAT</a><span class="stringliteral">&quot; - nombre de MED_TRIA3 : &quot;</span><a class="code" href="a00360_ad1c568efb9ee28e7f3b0e20bf7e79ff4.html#ad1c568efb9ee28e7f3b0e20bf7e79ff4">IFORMAT</a><span class="stringliteral">&quot;\n&quot;</span>,nse2,ntr3);

  <span class="comment">/* Allocations memoire */</span> 
  tse2 = 2;
  se2_1  = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) calloc(tse2*nse2,<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>));
  se2_2  = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*tse2*nse2);
  nomse2 = (<span class="keywordtype">char</span>*) malloc(<a class="code" href="a00331_aa91a291a9736ce1ad33b5be657106edb.html#aa91a291a9736ce1ad33b5be657106edb">MED_TAILLE_PNOM</a>*nse2+1);
  numse2 = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*nse2);
  nufase2 = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*nse2);

  ttr3 = 3;
  tr3 = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*ntr3*ttr3);
  nomtr3 = (<span class="keywordtype">char</span>*) malloc(<a class="code" href="a00331_aa91a291a9736ce1ad33b5be657106edb.html#aa91a291a9736ce1ad33b5be657106edb">MED_TAILLE_PNOM</a>*ntr3+1);
  numtr3 = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*ntr3);
  nufatr3 = (<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>*) malloc(<span class="keyword">sizeof</span>(<a class="code" href="a00331_a88dc15143f934cc7b771bc89f46372dc.html#a88dc15143f934cc7b771bc89f46372dc">med_int</a>)*ntr3);

  <span class="comment">/* Lecture des connectivites des segments avec profil */</span>
  <span class="keywordflow">if</span> (<a name="a20"></a><a class="code" href="a00358_ad265a29b5087b740445e7add468e5805.html#ad265a29b5087b740445e7add468e5805">MEDconnLire</a>(fid,maa,mdim,se2_1,<a name="a21"></a><a class="code" href="a00331_a0ac861d71fe5e0be056a86f9212f1c6a.html#a0ac861d71fe5e0be056a86f9212f1c6aa9a1509b3f93e5915a24f555890c73ee1">MED_FULL_INTERLACE</a>,profil,2,
                  <a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>,<a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>,<a class="code" href="a00331_a00d5b148b07dc761d3c5cbb130ae26a8.html#a00d5b148b07dc761d3c5cbb130ae26a8aee0e5af9374ad7ec7ef8e556242a42cc">MED_DESC</a>) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture de la connectivite des segments&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Lecture de la connectivite des segments */</span>
  <span class="keywordflow">if</span> (<a class="code" href="a00358_ad265a29b5087b740445e7add468e5805.html#ad265a29b5087b740445e7add468e5805">MEDconnLire</a>(fid,maa,mdim,se2_2,<a class="code" href="a00331_a0ac861d71fe5e0be056a86f9212f1c6a.html#a0ac861d71fe5e0be056a86f9212f1c6aa9a1509b3f93e5915a24f555890c73ee1">MED_FULL_INTERLACE</a>,NULL,0,
                  <a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>  ,<a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>,<a class="code" href="a00331_a00d5b148b07dc761d3c5cbb130ae26a8.html#a00d5b148b07dc761d3c5cbb130ae26a8aee0e5af9374ad7ec7ef8e556242a42cc">MED_DESC</a>) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture de la connectivite des segments&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Lecture (optionnelle) des noms des segments */</span>
  <span class="keywordflow">if</span> (<a name="a22"></a><a class="code" href="a00358_a78f4e82306b9d7bf0df7326098a51af8.html#a78f4e82306b9d7bf0df7326098a51af8">MEDnomLire</a>(fid,maa,nomse2,nse2,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>,<a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>) &lt; 0)
    inoele = <a name="a23"></a><a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa5d1ae7578de41e45d28cb465ac97dd8b">MED_FAUX</a>;
  <span class="keywordflow">else</span>
    inoele = <a name="a24"></a><a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa9c1332ae1891dc5c8f5ea9604c3e7136">MED_VRAI</a>;

  <span class="comment">/* Lecture (optionnelle) des numeros des segments */</span>
  <span class="keywordflow">if</span> (<a name="a25"></a><a class="code" href="a00358_a18a6e97304f902dceb087b237e5eb9b0.html#a18a6e97304f902dceb087b237e5eb9b0">MEDnumLire</a>(fid,maa,numse2,nse2,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>,<a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>) &lt; 0)
    inuele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa5d1ae7578de41e45d28cb465ac97dd8b">MED_FAUX</a>;
  <span class="keywordflow">else</span>
    inuele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa9c1332ae1891dc5c8f5ea9604c3e7136">MED_VRAI</a>;

  <span class="comment">/* Lecture des numeros des familles des segments */</span>
  <span class="keywordflow">if</span> (<a name="a26"></a><a class="code" href="a00358_a3e6c8b8a760f297e91934f46c4b9fd17.html#a3e6c8b8a760f297e91934f46c4b9fd17">MEDfamLire</a>(fid,maa,nufase2,nse2,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08ace31cb42b6f0ecacdafc847f04f89cce">MED_ARETE</a>,<a class="code" href="a00332_a29927daaa1a87f2129295a68264ad526.html#a29927daaa1a87f2129295a68264ad526">MED_SEG2</a>) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture des numéros de famille des segments&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Lecture de la connectivite des triangles */</span>
  <span class="keywordflow">if</span> (<a class="code" href="a00358_ad265a29b5087b740445e7add468e5805.html#ad265a29b5087b740445e7add468e5805">MEDconnLire</a>(fid,maa,mdim,tr3,<a name="a27"></a><a class="code" href="a00331_a0ac861d71fe5e0be056a86f9212f1c6a.html#a0ac861d71fe5e0be056a86f9212f1c6aa5c7f85d1c271fe5dbaf9e9f1d3211fea">MED_NO_INTERLACE</a>,NULL,0,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08aa99fcc0abf1e176a8c7ef5453bd1f446">MED_MAILLE</a>,<a class="code" href="a00332_a4a1eb7ba296742a6f5eb8b5b23b39670.html#a4a1eb7ba296742a6f5eb8b5b23b39670">MED_TRIA3</a>,
                     <a class="code" href="a00331_a00d5b148b07dc761d3c5cbb130ae26a8.html#a00d5b148b07dc761d3c5cbb130ae26a8aee0e5af9374ad7ec7ef8e556242a42cc">MED_DESC</a>) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture de la connectivite des triangles&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Lecture (optionnelle) des noms des triangles */</span>
  <span class="keywordflow">if</span> (<a class="code" href="a00358_a78f4e82306b9d7bf0df7326098a51af8.html#a78f4e82306b9d7bf0df7326098a51af8">MEDnomLire</a>(fid,maa,nomtr3,ntr3,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08aa99fcc0abf1e176a8c7ef5453bd1f446">MED_MAILLE</a>,<a class="code" href="a00332_a4a1eb7ba296742a6f5eb8b5b23b39670.html#a4a1eb7ba296742a6f5eb8b5b23b39670">MED_TRIA3</a>) &lt; 0)
    inoele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa5d1ae7578de41e45d28cb465ac97dd8b">MED_FAUX</a>;
  <span class="keywordflow">else</span>
    inoele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa9c1332ae1891dc5c8f5ea9604c3e7136">MED_VRAI</a>;

  <span class="comment">/* Lecture (optionnelle) des numeros des triangles */</span>
  <span class="keywordflow">if</span> (<a class="code" href="a00358_a18a6e97304f902dceb087b237e5eb9b0.html#a18a6e97304f902dceb087b237e5eb9b0">MEDnumLire</a>(fid,maa,numtr3,ntr3,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08aa99fcc0abf1e176a8c7ef5453bd1f446">MED_MAILLE</a>,<a class="code" href="a00332_a4a1eb7ba296742a6f5eb8b5b23b39670.html#a4a1eb7ba296742a6f5eb8b5b23b39670">MED_TRIA3</a>) &lt; 0)
    inuele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa5d1ae7578de41e45d28cb465ac97dd8b">MED_FAUX</a>;
  <span class="keywordflow">else</span>
    inuele = <a class="code" href="a00331_a48edc2e2691fff06637b6206deff390f.html#a48edc2e2691fff06637b6206deff390fa9c1332ae1891dc5c8f5ea9604c3e7136">MED_VRAI</a>;

  <span class="comment">/* Lecture des numeros des familles des triangles */</span>
  <span class="keywordflow">if</span> (ret = <a class="code" href="a00358_a3e6c8b8a760f297e91934f46c4b9fd17.html#a3e6c8b8a760f297e91934f46c4b9fd17">MEDfamLire</a>(fid,maa,nufatr3,ntr3,<a class="code" href="a00331_ab8d5af112dbaeca64aa1d1965030ff08.html#ab8d5af112dbaeca64aa1d1965030ff08aa99fcc0abf1e176a8c7ef5453bd1f446">MED_MAILLE</a>,<a class="code" href="a00332_a4a1eb7ba296742a6f5eb8b5b23b39670.html#a4a1eb7ba296742a6f5eb8b5b23b39670">MED_TRIA3</a>) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la lecture des numeros de famille des segments&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Fermeture du fichier */</span>
  <span class="keywordflow">if</span> (<a name="a28"></a><a class="code" href="a00358_ac4f893f1942397b74f4fb57f5ff99ca6.html#ac4f893f1942397b74f4fb57f5ff99ca6">MEDfermer</a>(fid) &lt; 0) {
    <a class="code" href="a00360_a3756046b0a6a7e51b8eb544d0d77c17c.html#a3756046b0a6a7e51b8eb544d0d77c17c">MESSAGE</a>(<span class="stringliteral">&quot;Erreur a la fermeture du fichier&quot;</span>);
    <span class="keywordflow">return</span> -1;
  }

  <span class="comment">/* Affichage */</span>
  <span class="keywordflow">if</span> (ret == 0) {
    printf(<span class="stringliteral">&quot;Connectivite des segments (1): \n&quot;</span>);
    <span class="keywordflow">for</span> (i=0;i&lt;nse2*tse2;i++)
      printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(se2_1+i));
    printf(<span class="stringliteral">&quot;\n&quot;</span>);
    printf(<span class="stringliteral">&quot;Connectivite des segments (2): \n&quot;</span>);
    <span class="keywordflow">for</span> (i=0;i&lt;nse2*tse2;i++)
      printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(se2_2+i));
    <span class="keywordflow">if</span> (inoele) {
      printf(<span class="stringliteral">&quot;\nNoms des segments :\n&quot;</span>);
      <span class="keywordflow">for</span> (i=0;i&lt;nse2;i++) {
        strncpy(str,nomse2+i*<a class="code" href="a00331_aa91a291a9736ce1ad33b5be657106edb.html#aa91a291a9736ce1ad33b5be657106edb">MED_TAILLE_PNOM</a>,MED_TAILLE_PNOM);
        str[MED_TAILLE_PNOM] = <span class="charliteral">&apos;\0&apos;</span>;
        printf(<span class="stringliteral">&quot;%s &quot;</span>,str);
      }
    }
    <span class="keywordflow">if</span> (inuele) {
      printf(<span class="stringliteral">&quot;\nNumeros des segments :\n&quot;</span>);
      <span class="keywordflow">for</span> (i=0;i&lt;nse2;i++)
        printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(numse2+i));
    }      
    printf(<span class="stringliteral">&quot;\nNumeros des familles des segments :\n&quot;</span>);
    <span class="keywordflow">for</span> (i=0;i&lt;nse2;i++)
      printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(nufase2+i));

    printf(<span class="stringliteral">&quot;\nConnectivite des triangles : \n&quot;</span>);
    <span class="keywordflow">for</span> (i=0;i&lt;ntr3*ttr3;i++)
      printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(tr3+i));
    <span class="keywordflow">if</span> (inoele) {
      printf(<span class="stringliteral">&quot;\nNoms des triangles :\n&quot;</span>);
      <span class="keywordflow">for</span> (i=0;i&lt;ntr3;i++) {
        strncpy(str,nomtr3+i*<a class="code" href="a00331_aa91a291a9736ce1ad33b5be657106edb.html#aa91a291a9736ce1ad33b5be657106edb">MED_TAILLE_PNOM</a>,MED_TAILLE_PNOM);
        str[MED_TAILLE_PNOM] = <span class="charliteral">&apos;\0&apos;</span>;
        printf(<span class="stringliteral">&quot;%s &quot;</span>,str);
      }
    }
    <span class="keywordflow">if</span> (inuele) {
      printf(<span class="stringliteral">&quot;\nNumeros des triangles :\n&quot;</span>);
      <span class="keywordflow">for</span> (i=0;i&lt;ntr3;i++)
        printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(numtr3+i));
    }      
    printf(<span class="stringliteral">&quot;\nNumeros des familles des triangles :\n&quot;</span>);
    <span class="keywordflow">for</span> (i=0;i&lt;ntr3;i++)
      printf(IFORMAT<span class="stringliteral">&quot; &quot;</span>,*(nufatr3+i));
    
    printf(<span class="stringliteral">&quot;\n&quot;</span>);
  }

  <span class="comment">/* Nettoyage memoire */</span>
  free(se2_1);
  free(se2_2);
  free(nomse2);
  free(numse2);
  free(nufase2);

  free(tr3);
  free(nomtr3);
  free(numtr3);
  free(nufatr3);

  <span class="keywordflow">return</span> ret;
}

</pre></div> </div>
<hr size="1"/><address style="text-align: right;"><small>Généré le Thu Jan 21 18:06:07 2016 pour MED fichier par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
